{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport const refs = {\n  form: document.querySelector(\".form\"),\n  gallery: document.querySelector(\".gallery\"),\n  loader: document.querySelector(\".loader\"),\n};\n\nexport function generateMarkup(pictures) {\n  const markup = pictures\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n\t              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t            <img \n\t\t              class=\"gallery-image\" \n\t\t              src=\"${webformatURL}\" \n\t\t              alt=\"${tags}\" \n\t\t            />\n\t              </a>\n                    <ul class=\"gallery-list\">\n                        <li class=\"gallery-data\">\n                            Likes\n                            <span class=\"datatext\">${likes}</span>\n                        </li>\n                        <li class=\"gallery-data\">\n                            Views\n                            <span class=\"datatext\">${views}</span>\n                        </li>\n                        <li class=\"gallery-data\">\n                            Comments\n                            <span class=\"datatext\">${comments}</span>\n                        </li>\n                        <li class=\"gallery-data\">\n                            Downloads\n                            <span class=\"datatext\">${downloads}</span>\n                        </li>\n                    </ul>\n              </li>`;\n      }\n    )\n    .join(\"\");\n\n  refs.gallery.insertAdjacentHTML(\"beforeend\", markup);\n\n  let lightbox = new SimpleLightbox(\".gallery-link\", {\n    captionsData: \"alt\",\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n","import { generateMarkup } from \"./render-functions\";\nimport axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api\";\n\nexport function requestMarkup(params) {\n  axios\n    .get(\"/\", { params })\n    .then(response => response.data)\n    .then(images => {\n      if (images.hits.length === 0) {\n        iziToast.show({\n          message:\n            \"Sorry, there are no images matching your search query. Please try again!\",\n          messageColor: \"#FAFAFB\",\n          backgroundColor: \"#EF4040\",\n          iconColor: \"#FAFAFB\",\n          iconUrl: \"./img/octagon.svg\",\n          position: \"topRight\",\n          close: false,\n          buttons: [\n            [\n              \"<button>âœ•</button>\",\n              function (instance, toast) {\n                instance.hide({}, toast);\n              },\n            ],\n          ],\n        });\n      } else {\n        6;\n        generateMarkup(images.hits);\n      }\n    })\n    .catch(error => {\n      console.error(error.message);\n    });\n}\n","import { refs } from \"./js/render-functions\";\nimport { requestMarkup } from \"./js/pixabay-api\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nrefs.form.addEventListener(\"submit\", onSumbit);\n\nfunction onSumbit(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  refs.gallery.innerHTML = \"\";\n  console.log(form.elements[0].value.trim().length === 0);\n  debugger;\n  if (form.elements[0].value.trim().length === 0) {\n    iziToast.warning({\n      message: \"Sorry, there are no keywords. Please enter them.\",\n      position: \"topRight\",\n    });\n  } else {\n    fetchPictures(form.elements[0].value);\n  }\n  form.reset();\n}\n\nfunction fetchPictures(query) {\n  refs.loader.classList.remove(\"hidden\");\n  const params = {\n    key: \"49503501-671f9af9932bd9ea1fe97a1a7\",\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n  };\n\n  requestMarkup(params);\n  refs.loader.classList.add(\"hidden\");\n}\n"],"names":["refs","generateMarkup","pictures","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","axios","requestMarkup","params","response","images","iziToast","instance","toast","error","onSumbit","event","form","fetchPictures","query"],"mappings":"owBAGO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEO,SAASC,EAAeC,EAAU,CACvC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,+CACgCL,CAAa;AAAA;AAAA;AAAA,uBAGrCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAM0BC,CAAK;AAAA;AAAA;AAAA;AAAA,qDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qDAIRC,CAAS;AAAA;AAAA;AAAA,oBAKzD,EACA,KAAK,EAAE,EAEVV,EAAK,QAAQ,mBAAmB,YAAaG,CAAM,EAEpC,IAAIQ,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CCtDAC,EAAM,SAAS,QAAU,0BAElB,SAASC,EAAcC,EAAQ,CACpCF,EACG,IAAI,IAAK,CAAE,OAAAE,EAAQ,EACnB,KAAKC,GAAYA,EAAS,IAAI,EAC9B,KAAKC,GAAU,CACVA,EAAO,KAAK,SAAW,EACzBC,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,UAAW,UACX,QAAS,oBACT,SAAU,WACV,MAAO,GACP,QAAS,CACP,CACE,qBACA,SAAUC,EAAUC,EAAO,CACzBD,EAAS,KAAK,GAAIC,CAAK,CACxB,CACF,CACF,CACX,CAAS,EAGDlB,EAAee,EAAO,IAAI,CAElC,CAAK,EACA,MAAMI,GAAS,CACd,QAAQ,MAAMA,EAAM,OAAO,CACjC,CAAK,CACL,CClCApB,EAAK,KAAK,iBAAiB,SAAUqB,CAAQ,EAE7C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACnBtB,EAAK,QAAQ,UAAY,GACzB,QAAQ,IAAIuB,EAAK,SAAS,CAAC,EAAE,MAAM,KAAM,EAAC,SAAW,CAAC,EACtD,SACIA,EAAK,SAAS,CAAC,EAAE,MAAM,KAAM,EAAC,SAAW,EAC3CN,EAAS,QAAQ,CACf,QAAS,mDACT,SAAU,UAChB,CAAK,EAEDO,EAAcD,EAAK,SAAS,CAAC,EAAE,KAAK,EAEtCA,EAAK,MAAK,CACZ,CAEA,SAASC,EAAcC,EAAO,CAC5BzB,EAAK,OAAO,UAAU,OAAO,QAAQ,EASrCa,EARe,CACb,IAAK,qCACL,EAAGY,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAEsB,EACpBzB,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC"}